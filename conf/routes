# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page

POST          /publicRooms                                      @controllers.PublicRoomsController.createRoom()
GET           /publicRooms                                      @controllers.PublicRoomsController.getGeoRooms(lat: Double, lon: Double)
POST          /publicRooms/:roomId/subscriptions                @controllers.PublicRoomsController.createSubscription(roomId: Long)
DELETE        /publicRooms/:roomId/subscriptions/:userId        @controllers.PublicRoomsController.removeSubscription(roomId: Long, userId: Long)
GET           /publicRooms/:roomId/join                         @controllers.PublicRoomsController.joinRoom(roomId: Long, userId: Long, authToken: String)
GET           /publicRooms/:roomId/messages                     @controllers.PublicRoomsController.getMessages(roomId: Long, limit: Int, offset: Int)

GET           /privateRooms                                     @controllers.PrivateRoomsController.getRoomsByUserId(userId: Long)
GET           /privateRooms/:roomId/join                        @controllers.PrivateRoomsController.joinRoom(roomId: Long, userId: Long, authToken: String)
PUT           /privateRooms/:roomId/leave                       @controllers.PrivateRoomsController.leaveRoom(roomId: Long, userId: Long)
GET           /privateRooms/:roomId/messages                    @controllers.PrivateRoomsController.getMessages(roomId: Long, limit: Int, offset: Int)

PUT           /messages/:messageId/favorite                     @controllers.MessagesController.favorite(messageId: Long, userId: Long)
DELETE        /messages/:messageId/favorite                     @controllers.MessagesController.removeFavorite(messageId: Long, userId: Long)
PUT           /messages/:messageId/flag                         @controllers.MessagesController.flag(messageId: Long, userId: Long)
DELETE        /messages/:messageId/flag                         @controllers.MessagesController.removeFlag(messageId: Long, userId: Long)

PUT           /users                                            @controllers.UsersController.createUser()
POST          /users                                            @controllers.UsersController.testCreate()
GET           /auth                                             @controllers.UsersController.auth(fbAccessToken: String)

POST          /devices                                          @controllers.DevicesController.createDevice()
PUT           /devices/:deviceId                                @controllers.DevicesController.updateDeviceInfo(deviceId: Long, regId: String)

POST          /requests                                         @controllers.RequestsController.createRequest()
GET           /requests                                         @controllers.RequestsController.getRequestsByReceiver(userId: Long)
GET           /requests/status                                  @controllers.RequestsController.getStatus(senderId: Long, receiverId: Long)
PUT           /requests/:requestId                              @controllers.RequestsController.handleResponse(requestId: Long)

GET           /status                                           @controllers.StatusController.status()
GET           /test                                             @controllers.PublicRoomsController.getRooms()
